<!-- Announcement Bar -->
{% if settings.show_announcement_bar %}
<div class="announcement-bar" id="announcement-bar">
    <div class="announcement-content">
        <span>{{ settings.announcement_text | default: "FREE SHIPPING ON ORDERS $75+ | NATIONWIDE U.S. SHIPPING | ELEVATE YOUR LAUNDRY EXPERIENCE" }}</span>
        <span>|</span>
        <span>{{ settings.announcement_text | default: "FREE SHIPPING ON ORDERS $75+ | NATIONWIDE U.S. SHIPPING | ELEVATE YOUR LAUNDRY EXPERIENCE" }}</span>
    </div>
</div>
{% endif %}

<!-- Navigation -->
<nav class="nav" id="navbar">
    <div class="nav-container">
        <a href="{{ routes.root_url }}" class="nav-logo">
            {% if settings.logo != blank %}
                <img src="{{ settings.logo | image_url: width: 200 }}" alt="{{ shop.name }}">
            {% else %}
                <img src="{{ 'LOVE_1.png' | file_img_url: 'master' }}" alt="{{ shop.name }}">
            {% endif %}
        </a>
        <div class="nav-links" id="nav-links">
            {% comment %} Main Navigation - Use Shopify linklists or direct links {% endcomment %}
            {% if linklists.main-menu.links.size > 0 %}
                {% for link in linklists.main-menu.links %}
                    <a href="{{ link.url }}" class="nav-link {% if link.active %}active{% endif %}">{{ link.title }}</a>
                {% endfor %}
            {% else %}
                {% comment %} Fallback navigation if no menu is configured {% endcomment %}
                <a href="{{ routes.collections_url }}" class="nav-link">Shop</a>
                <a href="/pages/products" class="nav-link">Products</a>
                <a href="/pages/about" class="nav-link">About</a>
                <a href="/pages/wholesale" class="nav-link">Become a Partner</a>
            {% endif %}
            
            {% comment %} Shop CTA Button {% endcomment %}
            <a href="{{ routes.collections_url }}" class="nav-cta">Shop Now</a>
            
            {% comment %} Cart Icon with Count {% endcomment %}
            <a href="{{ routes.cart_url }}" class="nav-cart-btn" id="nav-cart-btn" aria-label="View cart">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V17C17 18.1 17.9 19 19 19C20.1 19 21 18.1 21 17V13M9 19.5C9.8 19.5 10.5 20.2 10.5 21C10.5 21.8 9.8 22.5 9 22.5C8.2 22.5 7.5 21.8 7.5 21C7.5 20.2 8.2 19.5 9 19.5ZM20 19.5C20.8 19.5 21.5 20.2 21.5 21C21.5 21.8 20.8 22.5 20 22.5C19.2 22.5 18.5 21.8 18.5 21C18.5 20.2 19.2 19.5 20 19.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                {% if cart.item_count > 0 %}
                    <span class="cart-count-badge" id="header-cart-count">{{ cart.item_count }}</span>
                {% endif %}
            </a>
            
            {% comment %} Customer Account Link {% endcomment %}
            {% if customer %}
                <a href="{{ routes.account_url }}" class="nav-link nav-user" title="Account">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            {% else %}
                <a href="{{ routes.account_login_url }}" class="nav-link nav-user" title="Login">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 17L15 12L10 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M15 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            {% endif %}
            
            {% comment %} Partner Dashboard Link (only for partners) {% endcomment %}
            {% if customer.tags contains 'wholesale-partner' or customer.tags contains 'partner' or customer.tags contains 'partner-pending-approval' %}
                <a href="/pages/partner-dashboard" class="nav-link nav-user nav-partner" id="nav-partner-link" title="Partner Dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                        <path d="M3 9H21" stroke="currentColor" stroke-width="2"/>
                        <path d="M9 3V21" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </a>
            {% endif %}
        </div>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
    </div>
</nav>

