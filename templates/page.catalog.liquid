{% comment %}
  Catalog Page - Complete Product Catalog
  Handle: catalog
  Shows all collections and products in an organized catalog format
{% endcomment %}

<div class="catalog-page-container">
    <!-- Hero Section -->
    <section class="catalog-hero">
        <div class="container">
            <div class="catalog-hero-content">
                <h1 class="catalog-title">Product Catalog</h1>
                <p class="catalog-subtitle">Explore our complete range of wellness laundry products</p>
            </div>
        </div>
    </section>

    <!-- Collections Section -->
    {% if collections.size > 0 %}
    <section class="catalog-collections-section">
        <div class="container">
            <h2 class="catalog-section-title">Shop by Collection</h2>
            <div class="collections-grid">
                {% for collection in collections %}
                    {% unless collection.handle == 'all' or collection.handle == 'frontpage' %}
                        <div class="collection-card">
                            <a href="{{ collection.url }}" class="collection-link">
                                {% if collection.featured_image %}
                                    <div class="collection-image-wrapper">
                                        <img src="{{ collection.featured_image | image_url: width: 600 }}" 
                                             alt="{{ collection.title }}"
                                             class="collection-image"
                                             loading="lazy">
                                    </div>
                                {% else %}
                                    <div class="collection-image-wrapper collection-placeholder">
                                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                            <line x1="9" y1="3" x2="9" y2="21"></line>
                                            <line x1="3" y1="9" x2="21" y2="9"></line>
                                        </svg>
                                    </div>
                                {% endif %}
                                <div class="collection-info">
                                    <h3 class="collection-title">{{ collection.title }}</h3>
                                    <p class="collection-count">{{ collection.products_count }} {{ collection.products_count | pluralize: 'product', 'products' }}</p>
                                </div>
                            </a>
                        </div>
                    {% endunless %}
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- All Products Section -->
    <section class="catalog-products-section">
        <div class="container">
            <div class="catalog-section-header">
                <h2 class="catalog-section-title">Unit Products</h2>
                <p class="catalog-section-description">Browse our unit products</p>
            </div>

            <div class="catalog-products-grid">
                {% assign all_products_collection = collections.all %}
                {% if all_products_collection.products.size > 0 %}
                    {% for product in all_products_collection.products %}
                        {% if product.tags contains 'unit' %}
                            <div class="catalog-product-card">
                                <a href="{{ product.url }}" class="product-link">
                                    <div class="product-image-wrapper">
                                        {% if product.featured_image %}
                                            <img src="{{ product.featured_image | image_url: width: 400 }}" 
                                                 alt="{{ product.title }}"
                                                 class="product-image"
                                                 loading="lazy">
                                        {% else %}
                                            <div class="product-placeholder">
                                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                                    <line x1="9" y1="3" x2="9" y2="21"></line>
                                                    <line x1="3" y1="9" x2="21" y2="9"></line>
                                                </svg>
                                            </div>
                                        {% endif %}
                                        {% if product.compare_at_price > product.price %}
                                            <span class="product-badge sale-badge">Sale</span>
                                        {% endif %}
                                    </div>
                                    <div class="product-info">
                                        <h3 class="product-name">{{ product.title }}</h3>
                                        <div class="product-price-wrapper">
                                            {% if product.compare_at_price > product.price %}
                                                <span class="product-price-compare">{{ product.compare_at_price | money }}</span>
                                            {% endif %}
                                            <span class="product-price">{{ product.price | money }}</span>
                                        </div>
                                        {% if product.available %}
                                            <span class="product-status in-stock">In Stock</span>
                                        {% else %}
                                            <span class="product-status out-of-stock">Out of Stock</span>
                                        {% endif %}
                                    </div>
                                </a>
                            </div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <div class="catalog-empty-state">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="9" y1="3" x2="9" y2="21"></line>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                        </svg>
                        <h3>No products found</h3>
                        <p>Products will appear here once they're added to your store.</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Quick Links Section -->
    <section class="catalog-quick-links">
        <div class="container">
            <h2 class="catalog-section-title">Quick Links</h2>
            <div class="quick-links-grid">
                <a href="/pages/products" class="quick-link-card">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                    <h3>Featured Products</h3>
                    <p>View our featured products</p>
                </a>
                <a href="/pages/mastercase" class="quick-link-card">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="3" y1="9" x2="21" y2="9"></line>
                        <line x1="9" y1="3" x2="9" y2="21"></line>
                    </svg>
                    <h3>Become a Partner</h3>
                    <p>Join our wholesale program</p>
                </a>
                <a href="/pages/contact" class="quick-link-card">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <h3>Contact Us</h3>
                    <p>Have questions? Get in touch</p>
                </a>
            </div>
        </div>
    </section>
</div>

