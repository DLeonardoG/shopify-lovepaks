{% comment %}
  Size Variant Selector
  Similar to trycreate.co size buttons (1 Month, 2 Month, etc.)
{% endcomment %}

<div class="variant-selector size-selector">
  <label class="variant-label">
    SELECT {{ option.name | upcase }}:
  </label>
  
  <div class="size-buttons">
    {% for value in option.values %}
      {% assign is_selected = false %}
      {% if product.selected_or_first_available_variant.option2 == value %}
        {% assign is_selected = true %}
      {% endif %}
      
      {% comment %} Parse size value to extract count {% endcomment %}
      {% assign size_parts = value | split: ' ' %}
      {% assign count = '' %}
      {% for part in size_parts %}
        {% if part contains 'Count' or part contains 'count' %}
          {% assign count = size_parts[forloop.index0] %}
        {% endif %}
      {% endfor %}
      
      <button 
        type="button"
        class="size-button {% if is_selected %}selected{% endif %}"
        data-option-name="{{ option.name }}"
        data-option-value="{{ value }}"
        aria-label="Select {{ value }}">
        <span class="size-label">{{ value }}</span>
        {% if count != blank %}
          <span class="size-count">{{ count }} Count</span>
        {% endif %}
      </button>
    {% endfor %}
  </div>
</div>

