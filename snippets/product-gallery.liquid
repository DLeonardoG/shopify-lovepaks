{% comment %}
  Product Gallery with Thumbnails
  Similar to trycreate.co gallery
{% endcomment %}

<div class="product-gallery-container">
  <!-- Main Image -->
  <div class="product-gallery-main">
    <img 
      id="product-main-image"
      src="{% if product.selected_or_first_available_variant.featured_image %}{{ product.selected_or_first_available_variant.featured_image | image_url: width: 2000 }}{% else %}{{ product.featured_image | image_url: width: 2000 }}{% endif %}" 
      alt="{{ product.featured_image.alt | default: product.title | escape }}"
      class="product-main-image"
      loading="eager">
    
    {% if product.selected_or_first_available_variant.compare_at_price > product.selected_or_first_available_variant.price %}
      <span class="sale-badge">Sale</span>
    {% endif %}
  </div>
  
  <!-- Thumbnails -->
  {% if product.images.size > 1 %}
    <div class="product-gallery-thumbnails">
      {% for image in product.images limit: 5 %}
        <button 
          type="button"
          class="thumbnail-btn {% if forloop.first %}active{% endif %}"
          data-image-src="{{ image | image_url: width: 2000 }}"
          aria-label="View image {{ forloop.index }}">
          <img 
            src="{{ image | image_url: width: 200 }}" 
            alt="{{ image.alt | escape }}"
            loading="lazy">
        </button>
      {% endfor %}
    </div>
  {% endif %}
</div>

